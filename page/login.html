<!DOCTYPE html>
<html ng-app="appLogin">
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="../src/style/base.css"/>
		<link rel="stylesheet" type="text/css" href="../src/style/login.css"/>
		<link rel="stylesheet" type="text/css" href="../dist/lib/style/bootstrap.min.css"/>
	</head>
	<body>
		<div class="header w clearfix">
			
		</div>
		<div class="main w clearfix">
			<div class="main-box">
			<form class="form-horizontal form-box" role="form" ng-controller="loginCon">
				 <span class="user-Verif" ng-show="userErro">输入6~12的小写字母和数字</span>
			  <div class="form-group">
			    <label for="firstname" class="col-sm-2 control-label user-lab">用户名：</label>
			    <div class="col-sm-10">
			      <input type="text" class="form-control" id="firstname" placeholder="请输入用户名" ng-model="uname"
			      	ng-blur="userChk()" ng-class="{true:'',false:'user-inp'}[data.userNull]">
			    </div>
			  </div>
			   <span class="pass-Verif" ng-show="passErro">输入6~12的小写字母和数字</span>
			  <div class="form-group group-pass">
			    <label for="lastname" class="col-sm-2 control-label user-lab">密&nbsp;码:&nbsp; &nbsp;</label>
			    <div class="col-sm-10">
			      <input type="text" class="form-control" id="lastname" placeholder="请输入密码" ng-model="passw"
			      	ng-blur="passChk()" ng-focus="chkUserName()" ng-class="{true:'',false:'user-inp'}[data.passNull]">
			    </div>
			  </div>
			  <div class="form-group vercode-box">
			  	<div class="col-sm-6 vercode" id="vercode"></div>
			  	<label for="vercode" class="col-sm-2 control-label vercode-code">abcd</label>
			  	<label for="vercode" class="col-sm-4 control-label labtxt">看不清，换一张</label>
			  </div>
			  <div class="form-group">
			    <div class="col-sm-offset-2 col-sm-10">
			      <div class="checkbox">
			        <label>
			          <input type="checkbox">请记住我
			        </label>
			      </div>
			    </div>
			  </div>
			  <div class="form-group">
			    <div class="col-sm-offset-2 col-sm-10">
			      <button type="submit" class="btn btn-primary">登录</button>
			      <button type="reset" class="btn btn-danger">重置</button>
			    </div>
			  </div>
			</form>
			</div>
		</div>
	</body>
</html>
<script src="../dist/lib/script/angular-1.5.7.js" type="text/javascript" charset="utf-8"></script>
<script src="../src/script/modules/login.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
	var app = angular.module("appLogin", []);
	app.controller("loginCon", function($scope){
		$scope.data = {
			"userNull": "",
			"passNull": ""
		}
		
		$scope.uname = "";
		$scope.passw = "";
		$scope.userErro = false;
		$scope.passErro = false;
		//username input 获得焦点
		$scope.userChk = function(){
			if(!/^[a-z0-9_-]{6,12}$/.test($scope.uname) && $scope.uname != ""){
				$scope.userErro = true;
			}else{
				$scope.userErro = false;
			}
			$scope.data.userNull = true;
		}
		
		$scope.chkUserName = function(){
			if($scope.uname == ""){
				$scope.data.userNull = false;
			}else{
				$scope.data.userNull = true;
			}
			$scope.data.passNull = true;
		}
		$scope.passChk = function(){
			if($scope.uname != "" && $scope.passw == ""){
				$scope.data.passNull = false;
			}else{
				$scope.data.passNull = true;
			}
			
			if(!/^[a-z0-9_-]{6,12}$/.test($scope.passw)){
				$scope.passErro = true;
			}else{
				$scope.passErro = false;
			}
		}
	});
</script>
